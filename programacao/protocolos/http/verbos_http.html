<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>VERBOS OU M&Eacute;TODOS HTTP</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description"   content="" />
        <meta name="keywords" content="" />
           
        <link type="text/css" href="/css/topnav.css" rel="stylesheet"/>        
        <link type="text/css" href="/css/defaultthemeMarkdown.css"  rel="stylesheet"/>

        <script type="application/x-javascript" src="/js/generic.js"></script>
        <script type="application/x-javascript" src="/js/tgeneric.js"></script>

        <script>document.addEventListener("DOMContentLoaded", function() {includeHTML();}                );</script>
        <script>document.addEventListener("DOMContentLoaded", function() {FixHeader(window, "myHeader");});</script>
        <script>document.addEventListener("DOMContentLoaded", function() {toggleTree();}                 );</script>   

        </head>
        <body class="vscode-body vscode-light">
            <div class="header" id="myHeader">
  <div class="navbar" w3-include-html="/menu.inc"> </div>
</div>
<div class="title"><script> document.write(document.title);</script></div>  
<main>
<!-- markdownlint-disable-next-line -->
<span id="topo"><span>
<ul>
<li><a href="#verbos-ou-m%C3%A9todos-http">VERBOS OU M√âTODOS HTTP</a>
<ul>
<li><a href="#os-verbos-http-tamb%C3%A9m-conhecidos-como-m%C3%A9todos-http-s%C3%A3o-comandos-que-indicam-a-a%C3%A7%C3%A3o-desejada-a-ser-realizada-em-um-recurso-na-web-aqui-est%C3%A3o-os-principais-verbos-http">Os verbos HTTP, tamb√©m conhecidos como m√©todos HTTP, s√£o comandos que indicam a a√ß√£o desejada a ser realizada em um recurso na web. Aqui est√£o os principais verbos HTTP</a></li>
<li><a href="#o-que-%C3%A9-indepotente">O que √© indepotente?</a></li>
<li><a href="#qual-termo-contr%C3%A1rio-a-ideponente">Qual termo contr√°rio a ideponente?</a></li>
<li><a href="#no-contexto-do-send-request-do-cliente-existe-diferen%C3%A7a">No contexto do send request do cliente existe diferen√ßa?</a></li>
<li><a href="#existe-alguma-t%C3%A9cnica-para-saber-se-o-post-foi-bem-sucedido">Existe alguma t√©cnica para saber se o post foi bem sucedido?</a></li>
<li><a href="#o-c%C3%B3digo-de-retorno-200-nas-a%C3%A7%C3%B5es-post-n%C3%A3o-%C3%A9-seguro">O c√≥digo de retorno 200 nas a√ß√µes POST n√£o √© seguro?</a></li>
</ul>
</li>
</ul>
<!-- <h1 id="verbos-ou-m√©todos-http">VERBOS OU M√âTODOS HTTP</h1> -->
<h2 id="os-verbos-http-tamb√©m-conhecidos-como-m√©todos-http-s√£o-comandos-que-indicam-a-a√ß√£o-desejada-a-ser-realizada-em-um-recurso-na-web-aqui-est√£o-os-principais-verbos-http">Os verbos HTTP, tamb√©m conhecidos como m√©todos HTTP, s√£o comandos que indicam a a√ß√£o desejada a ser realizada em um recurso na web. Aqui est√£o os principais verbos HTTP</h2>
<ol>
<li>
<p><em>GET</em>: Solicita a recupera√ß√£o de um recurso. N√£o deve alterar o estado do servidor, sendo considerado um m√©todo seguro e idempotente.</p>
</li>
<li>
<p><em>POST</em>: Envia dados ao servidor para criar ou modificar um recurso. √â utilizado principalmente para enviar formul√°rios ou dados de uma aplica√ß√£o para o servidor.</p>
</li>
<li>
<p><em>PUT</em>: Atualiza ou cria um recurso em uma URL espec√≠fica. √â idempotente, o que significa que v√°rias requisi√ß√µes PUT com os mesmos dados n√£o devem alterar o estado do recurso al√©m da primeira requisi√ß√£o.</p>
</li>
<li>
<p><em>DELETE</em>: Remove um recurso identificado pela URL. Como PUT, √© idempotente.</p>
</li>
<li>
<p><em>PATCH</em>: Aplica modifica√ß√µes parciais a um recurso. Diferente do PUT, que substitui o recurso completo, o PATCH altera apenas os campos fornecidos.</p>
</li>
<li>
<p><em>HEAD</em>: Solicita as mesmas informa√ß√µes que o GET, mas sem o corpo da resposta. √â utilizado para obter metadados, como cabe√ßalhos HTTP.</p>
</li>
<li>
<p><em>OPTIONS</em>: Retorna os m√©todos HTTP suportados por um recurso. √ötil para verificar quais opera√ß√µes s√£o permitidas em um endpoint.</p>
</li>
<li>
<p><em>TRACE</em>: Realiza um loopback de uma mensagem de solicita√ß√£o para fins de teste e diagn√≥stico, retornando a requisi√ß√£o ao cliente.</p>
</li>
<li>
<p><em>CONNECT</em>: Estabelece um t√∫nel para o servidor identificado pela URL de destino. √â usado principalmente para conectar o cliente a um servidor proxy, especialmente para comunica√ß√µes seguras via HTTPS.</p>
</li>
</ol>
<h2 id="o-que-√©-indepotente">O que √© indepotente?</h2>
<ol>
<li>
<p>Idempotente √© um termo usado em computa√ß√£o para descrever uma opera√ß√£o que pode ser aplicada v√°rias vezes sem alterar o resultado al√©m da primeira aplica√ß√£o. Em outras palavras, se uma opera√ß√£o √© idempotente, o efeito de execut√°-la uma vez ou v√°rias vezes com os mesmos par√¢metros √© o mesmo.</p>
</li>
<li>
<p>No contexto dos verbos HTTP:</p>
<ol>
<li>
<p><em>GET</em>: √â idempotente porque solicitar o mesmo recurso v√°rias vezes n√£o altera o estado do servidor. Voc√™ sempre recebe a mesma resposta (assumindo que o recurso n√£o mudou entre as requisi√ß√µes).</p>
</li>
<li>
<p><em>PUT</em>: Tamb√©m √© idempotente. Submeter uma mesma requisi√ß√£o PUT v√°rias vezes com os mesmos dados resultar√° no mesmo estado do recurso no servidor, independentemente de quantas vezes a opera√ß√£o for repetida.</p>
</li>
<li>
<p><em>DELETE</em>: √â idempotente porque a exclus√£o de um recurso j√° inexistente n√£o ter√° efeito adicional; ap√≥s a primeira exclus√£o, requisi√ß√µes subsequentes de DELETE n√£o ter√£o nenhum impacto.</p>
</li>
<li>
<p><em>POST</em>: N√£o √© idempotente, pois cada requisi√ß√£o pode criar um novo recurso ou alterar o estado do servidor de maneira diferente. Por exemplo, enviar v√°rias requisi√ß√µes POST para criar um novo recurso pode resultar em m√∫ltiplas cria√ß√µes.</p>
</li>
</ol>
</li>
<li>
<p>Em resumo, opera√ß√µes idempotentes garantem que m√∫ltiplas execu√ß√µes da mesma a√ß√£o n√£o v√£o gerar efeitos colaterais adicionais ap√≥s a primeira execu√ß√£o.</p>
</li>
</ol>
<h2 id="qual-termo-contr√°rio-a-ideponente">Qual termo contr√°rio a ideponente?</h2>
<ol>
<li>
<p>O termo oposto a idempotente √© <em>n√£o idempotente</em>. Em computa√ß√£o, uma opera√ß√£o n√£o idempotente √© aquela em que a repeti√ß√£o da opera√ß√£o com os mesmos par√¢metros pode causar efeitos diferentes a cada vez que √© realizada.</p>
</li>
<li>
<p>No contexto dos verbos HTTP:</p>
<ol>
<li><em>POST</em> √© o exemplo mais comum de uma opera√ß√£o <em>n√£o idempotente</em>. Por exemplo, enviar a mesma requisi√ß√£o POST v√°rias vezes pode criar v√°rios novos recursos, cada um diferente, resultando em um estado diferente do servidor a cada repeti√ß√£o.</li>
</ol>
</li>
<li>
<p>Opera√ß√µes <em>n√£o idempotentes</em> podem causar efeitos cumulativos ou mudan√ßas de estado que diferem a cada execu√ß√£o, ao contr√°rio das opera√ß√µes idempotentes, que mant√™m o mesmo resultado ap√≥s a primeira execu√ß√£o.</p>
</li>
</ol>
<h2 id="no-contexto-do-send-request-do-cliente-existe-diferen√ßa">No contexto do send request do cliente existe diferen√ßa?</h2>
<ol>
<li>
<p>Sim, no contexto de um cliente HTTP realizando o envio de requisi√ß√µes (por exemplo, utilizando TMi_FpHttpClient ou outro cliente HTTP no Free Pascal), a diferen√ßa entre m√©todos idempotentes e n√£o idempotentes √© importante, especialmente em termos de comportamento em caso de falhas de rede ou necessidade de repeti√ß√£o da requisi√ß√£o.</p>
</li>
<li>
<p>Idempotente (e.g., GET, PUT, DELETE)</p>
<ol>
<li>
<p>Repeti√ß√£o Segura: Se uma requisi√ß√£o falhar ou houver incerteza se ela foi recebida pelo servidor, o cliente pode reenviar a requisi√ß√£o sem se preocupar em causar efeitos colaterais adicionais. Por exemplo, se voc√™ fizer um GET e a conex√£o for interrompida, pode simplesmente tentar novamente.</p>
</li>
<li>
<p>Uso em retentativas: O cliente HTTP pode implementar estrat√©gias autom√°ticas de repeti√ß√£o (retry) para esses m√©todos em caso de falha, porque a opera√ß√£o n√£o vai alterar o estado do servidor de maneira inesperada.</p>
</li>
</ol>
</li>
<li>
<p>N√£o Idempotente (e.g., POST)</p>
<ol>
<li>
<p>Cuidado com Repeti√ß√µes: Se uma requisi√ß√£o POST falhar ou se a resposta n√£o for recebida pelo cliente, h√° um risco ao repetir a requisi√ß√£o, pois isso pode resultar em m√∫ltiplas cria√ß√µes ou altera√ß√µes inesperadas no servidor. Por exemplo, repostar um formul√°rio de compra pode resultar em m√∫ltiplas transa√ß√µes.</p>
</li>
<li>
<p>Gerenciamento de Requisi√ß√µes: Para m√©todos n√£o idempotentes, os clientes geralmente precisam de mecanismos adicionais para garantir que a requisi√ß√£o foi bem-sucedida antes de tentar novamente (como tokens de transa√ß√£o ou verifica√ß√µes adicionais).</p>
</li>
</ol>
</li>
<li>
<p>No Free Pascal</p>
<ol>
<li>
<p>Quando voc√™ usa SendRequest ou fun√ß√µes equivalentes no TMi_FpHttpClient, entender se o m√©todo HTTP que voc√™ est√° usando √© idempotente ou n√£o ajuda a decidir como lidar com erros ou interrup√ß√µes de rede. Por exemplo, voc√™ pode ser mais agressivo em repetir requisi√ß√µes GET, mas deve ser muito mais cauteloso com POST.</p>
</li>
<li>
<p>Essa distin√ß√£o √© crucial em aplica√ß√µes que precisam garantir consist√™ncia e integridade dos dados, especialmente em cen√°rios de alta disponibilidade e resili√™ncia.</p>
</li>
</ol>
</li>
</ol>
<h2 id="existe-alguma-t√©cnica-para-saber-se-o-post-foi-bem-sucedido">Existe alguma t√©cnica para saber se o post foi bem sucedido?</h2>
<ol>
<li>
<p>Sim, h√° v√°rias t√©cnicas que podem ser usadas para garantir ou verificar se uma requisi√ß√£o POST foi bem-sucedida, especialmente em cen√°rios onde a repeti√ß√£o da requisi√ß√£o pode causar problemas (como a cria√ß√£o de m√∫ltiplos recursos indesejados). Aqui est√£o algumas estrat√©gias comuns:</p>
<ol>
<li>
<p>Respostas HTTP Status</p>
<ol>
<li>Status Codes: Um servidor geralmente responde com um c√≥digo de status HTTP indicando o resultado da requisi√ß√£o. Para um POST, o c√≥digo 200 OK ou 201 Created geralmente indica sucesso.</li>
</ol>
</li>
<li>
<p>Verifique o Conte√∫do da Resposta: Al√©m do c√≥digo de status, o conte√∫do da resposta pode incluir informa√ß√µes importantes, como um identificador do recurso criado. Validar essa informa√ß√£o pode confirmar o sucesso.</p>
</li>
</ol>
</li>
<li>
<p>Utiliza√ß√£o de Tokens de Idempot√™ncia</p>
<ol>
<li>
<p>Token de Idempot√™ncia: Enviar um token √∫nico junto com cada requisi√ß√£o POST. O servidor armazena esse token e garante que, se o mesmo token for recebido novamente, a requisi√ß√£o duplicada n√£o ser√° processada, retornando a mesma resposta da primeira tentativa. Isso ajuda a evitar duplicatas em casos onde o cliente n√£o tem certeza se a requisi√ß√£o foi bem-sucedida.</p>
<ol>
<li>Exemplo: Cabe√ßalho Idempotency-Key √© um padr√£o em algumas APIs RESTful.</li>
</ol>
</li>
<li>
<p>Confirmar Recebimento</p>
<ol>
<li>
<p>Recibo de Confirma√ß√£o: O servidor pode enviar um recibo com um identificador √∫nico ap√≥s a cria√ß√£o do recurso, como um ID de transa√ß√£o ou n√∫mero de pedido. O cliente pode ent√£o armazenar esse identificador e, em caso de falha de rede, verificar com o servidor se esse ID j√° foi processado.</p>
</li>
<li>
<p>Verifica√ß√£o de Estado: Ap√≥s enviar um POST, o cliente pode fazer uma requisi√ß√£o GET para confirmar que o recurso foi criado ou o estado foi alterado conforme esperado.</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Transa√ß√µes At√¥micas no Servidor</p>
<ol>
<li>Processamento At√¥mico: O servidor pode garantir que a opera√ß√£o √© at√¥mica, o que significa que a opera√ß√£o ou ser√° completada totalmente ou n√£o ser√° realizada de forma alguma. Isso √© especialmente √∫til para opera√ß√µes complexas que envolvem m√∫ltiplos passos.
<ol>
<li>
<p>Retry com Backoff Exponencial</p>
<ol>
<li>Retry com Backoff: Se uma requisi√ß√£o POST falhar por um erro tempor√°rio, a t√©cnica de retry com backoff exponencial pode ser usada para tentar novamente ap√≥s um intervalo crescente de tempo, reduzindo a carga no servidor e dando mais tempo para a recupera√ß√£o. No entanto, essa t√©cnica deve ser usada com cautela para POST devido ao risco de duplica√ß√£o.</li>
</ol>
</li>
<li>
<p>Logs de Auditoria</p>
<ol>
<li>Logs de Auditoria: Manter um registro detalhado das opera√ß√µes POST e suas respostas pode ajudar a identificar e resolver problemas quando h√° d√∫vidas se a requisi√ß√£o foi bem-sucedida.</li>
</ol>
</li>
<li>
<p>Persist√™ncia Local e Confirma√ß√£o</p>
<ol>
<li>Cache Local Tempor√°rio: O cliente pode salvar a requisi√ß√£o localmente at√© receber uma confirma√ß√£o do servidor. Se n√£o houver confirma√ß√£o, o cliente pode reprocessar ou reavaliar a necessidade de reenviar a requisi√ß√£o.</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Implementa√ß√£o no Free Pascal</p>
<ol>
<li>
<p>No Free Pascal, ao usar TMi_FpHttpClient, voc√™ pode verificar o c√≥digo de status da resposta (ResponseStatusCode) e analisar o conte√∫do da resposta (Response.Content). Se o servidor suporta tokens de idempot√™ncia, voc√™ pode adicionar um cabe√ßalho personalizado na requisi√ß√£o usando AddHeader.</p>
</li>
<li>
<p>Essas t√©cnicas, quando implementadas adequadamente, ajudam a garantir que sua aplica√ß√£o lide corretamente com a incerteza na comunica√ß√£o HTTP, minimizando os efeitos indesejados de requisi√ß√µes duplicadas ou falhas de rede.</p>
</li>
</ol>
</li>
</ol>
<h2 id="o-c√≥digo-de-retorno-200-nas-a√ß√µes-post-n√£o-√©-seguro">O c√≥digo de retorno 200 nas a√ß√µes POST n√£o √© seguro?</h2>
<ol>
<li>O c√≥digo de status HTTP 200 OK indica que a requisi√ß√£o foi bem-sucedida e que o servidor processou a solicita√ß√£o com sucesso. No entanto, quando usado em opera√ß√µes POST, o c√≥digo 200 OK pode n√£o ser o mais adequado ou seguro para todas as situa√ß√µes, especialmente quando o POST est√° criando novos recursos ou realizando a√ß√µes que alteram o estado do servidor.
<ol>
<li>
<p>Por que o 200 OK pode n√£o ser ideal em POST?</p>
<ol>
<li>
<p>Ambiguidade: O c√≥digo 200 OK √© gen√©rico e pode ser usado para uma ampla gama de situa√ß√µes. Isso pode tornar dif√≠cil para o cliente discernir se a requisi√ß√£o POST realmente realizou a a√ß√£o esperada, especialmente quando se espera que o POST crie um novo recurso.</p>
</li>
<li>
<p>Cria√ß√£o de Recursos: Quando um POST √© usado para criar um novo recurso, o c√≥digo mais apropriado √© o 201 Created. Esse c√≥digo indica claramente que um novo recurso foi criado no servidor e geralmente inclui um cabe√ßalho Location que aponta para o URI do novo recurso. Isso oferece uma confirma√ß√£o mais espec√≠fica e confi√°vel para o cliente.</p>
</li>
<li>
<p>Verifica√ß√£o de Sucesso Completo: Em alguns casos, o 200 OK pode ser retornado mesmo que a opera√ß√£o tenha sido parcialmente bem-sucedida, ou seja, a a√ß√£o foi realizada, mas talvez com algumas advert√™ncias ou problemas. Isso pode n√£o ser suficiente para opera√ß√µes cr√≠ticas onde a confirma√ß√£o completa da a√ß√£o √© necess√°ria.</p>
</li>
</ol>
</li>
<li>
<p>C√≥digos de Status Mais Apropriados para POST</p>
<ol>
<li>
<p>201 Created: Indica que a requisi√ß√£o POST foi bem-sucedida e que um novo recurso foi criado. √â o c√≥digo de status ideal quando o POST resulta na cria√ß√£o de um recurso no servidor.</p>
</li>
<li>
<p>202 Accepted: Indica que a requisi√ß√£o foi aceita para processamento, mas ainda n√£o foi conclu√≠da. Esse c√≥digo pode ser usado quando o processamento √© ass√≠ncrono, e o cliente pode precisar consultar o progresso ou o resultado posteriormente.</p>
</li>
<li>
<p>204 No Content: Indica que a requisi√ß√£o foi processada com sucesso, mas n√£o h√° conte√∫do adicional a ser retornado no corpo da resposta. √ötil para casos onde a opera√ß√£o foi conclu√≠da, mas n√£o h√° dados novos ou um recurso criado.</p>
</li>
<li>
<p>400 Bad Request, 401 Unauthorized, 403 Forbidden, 404 Not Found, etc.: Esses c√≥digos indicam que houve um problema com a requisi√ß√£o, e o cliente precisa corrigir ou autenticar-se antes de tentar novamente.</p>
</li>
</ol>
</li>
<li>
<p>Pr√°ticas Recomendadas</p>
<ol>
<li>
<p>Verifica√ß√£o de Conte√∫do da Resposta: Al√©m de checar o c√≥digo de status, verifique o conte√∫do da resposta para confirmar se a opera√ß√£o foi realizada conforme esperado. O servidor pode retornar um JSON ou outro formato que inclua detalhes sobre a opera√ß√£o.</p>
</li>
<li>
<p>Cabe√ßalhos e Identificadores: Se for recebido um c√≥digo 200 OK, a resposta deve, idealmente, incluir detalhes suficientes (como identificadores de recursos ou confirma√ß√µes expl√≠citas) para o cliente determinar se a opera√ß√£o foi bem-sucedida e
o que exatamente foi alterado ou criado.</p>
</li>
<li>
<p>Uso de 201 Created para Cria√ß√£o: Sempre que o POST criar um novo recurso, o servidor deve preferencialmente retornar 201 Created para maior clareza e seguran√ßa.</p>
</li>
</ol>
</li>
<li>
<p>Implementa√ß√£o no Free Pascal</p>
<ol>
<li>
<p>Ao usar TMi_FpHttpClient ou outro cliente HTTP no Free Pascal, √© poss√≠vel verificar o ResponseStatusCode e tomar decis√µes baseadas no c√≥digo retornado. A an√°lise do conte√∫do da resposta (Response.Content) tamb√©m √© fundamental para confirmar se a opera√ß√£o POST foi realizada com sucesso.</p>
</li>
<li>
<p>Em resumo, enquanto o 200 OK √© um c√≥digo de sucesso, ele pode n√£o ser a escolha mais informativa ou segura para opera√ß√µes POST, especialmente em casos de cria√ß√£o de recursos. C√≥digos como 201 Created oferecem uma confirma√ß√£o mais expl√≠cita e segura de que a opera√ß√£o foi realizada conforme esperado.</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<!-- markdownlint-disable-next-line -->
</main>
<p><a href="#topo" title="Retorna ao topo">üîùüîù</a></p>

            
            
        </body>
        </html>