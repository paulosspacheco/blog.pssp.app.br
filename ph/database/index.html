<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Banco de dados do projeto</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description"   content="" />
        <meta name="keywords" content="" />
           
        <link type="text/css" href="/css/topnav.css" rel="stylesheet"/>        
        <link type="text/css" href="/css/defaultthemeMarkdown.css"  rel="stylesheet"/>

        <script type="application/x-javascript" src="/js/generic.js"></script>
        <script type="application/x-javascript" src="/js/tgeneric.js"></script>

        <script>document.addEventListener("DOMContentLoaded", function() {includeHTML();}                );</script>
        <script>document.addEventListener("DOMContentLoaded", function() {FixHeader(window, "myHeader");});</script>
        <script>document.addEventListener("DOMContentLoaded", function() {toggleTree();}                 );</script>   

    </head>
    <body class="vscode-body vscode-dark">
        <div class="header" id="myHeader">
  <div class="navbar" w3-include-html="/menu.inc"> </div>
</div>
<div class="title"><script> document.write(document.title);</script></div>  
<main>
<!-- markdownlint-disable-next-line -->
<span id="topo"><span>
<script type="application/x-javascript" src="/js/mermaid.min.js"></script>
<!-- <h1 id="banco-de-dados-do-projeto">Banco de dados do projeto</h1> -->
<h2 id="cadastros-do-projeto">Cadastros do projeto</h2>
<ol>
<li><a href="./operadores.html">Operadores</a></li>
<li><a href="./hospitais.html">hospitais</a>.</li>
<li><a href="./natureza_da_iinteracao.html">natureza da interação</a></li>
<li><a href="./medicos.html">medicos</a></li>
<li><a href="./servicos_de_agenda.html">serviços de agenda</a></li>
<li><a href="./convenios.html">convênios</a></li>
<li><a href="./clientes.index">clientes</a></li>
<li><a href="./integracao.html">Integração</a></li>
<li><a href="./expediente_do_medico_data">Expediente_do_medico_data</a></li>
<li><a href="./expediente_do_medico_horas.html">Expediente_do_medico_horas</a></li>
<li><a href="./agenda.html">Agenda</a></li>
<li><a href="./formas_de_pagamento.html">Formas_de_Pagamento</a></li>
<li><a href="./consulta.html">Consulta</a></li>
</ol>
<h2 id="diagrama-do-entidade-e-relacionamentos-der">Diagrama do Entidade e Relacionamentos (DER)</h2>
<pre><code class="language-mermaid"><div class="mermaid">

classDiagram

  class operadores {
    +id: Integer
    +nome: String(50) not null
    +telefone: String(20)
  }

  class hospitais {
    +id: Integer
    +nome: String(50)
    +telefone: String(20)
  }

  class status_da_agenda_ou_consulta {
    +id: Integer
    +nome: String(20)
  }

  class medicos {
    +id: Integer
    +id_operadores: Integer
    +nome: String(50)
    +telefone: String(25)
    +telefone_da_secretaria: String(25)
    +login: String(50)
    +senha: String(20)
  }

  class servico_de_agendas {
    +id: Integer
    +id_operador: Integer
    +nome: String(100)
    +login: String(50)
    +senha: String(50)
  }

  class convenios {
    +id: Integer
    +id_medico: Integer
    +nome: String(50)
    +login: String(50)
    +senha: String(50)
  }

  class clientes {
    +id: Integer
    +nome: String(50) not null
    +telefone_whatsApp: String(25)
    +e_mail: String(50)
    +login: String(50) not null
    +senha: String(20) not null
    +id_convenio: Integer
    +dataTime_disponivel: Date
    +matricula_no_convenio: String(50)
  }

  class integracao {
    +id: Integer
    +endereco_do_site: String(255) not null
    +login: String(50) not null
    +senha: String(20) not null
    +status: Boolean not null
  }

  class expediente_do_medico_data {
    +id: Integer
    +id_medico: Integer not null
    +dataTime: Date not null
  }

  class expediente_do_medico_horas {
    +id_expediente_do_medico_data: Integer not null
    +dataTime_inicial: DateTime not null
    +dataTime_final: DateTime not null
  }

  class agenda {
    +id: Integer
    +id_Medico: Integer not null
    +id_Cliente: Integer not null
    +dataTime: DateTime not null
    +dataTime_confirmacao: DateTime not null
    +id_convenio: Integer
    +id_status_da_agenda_ou_consulta: Integer not null
    +id_formas_de_pagamento: Integer
    +dataTime_criacao: DateTime not null
    +observacoes: String(255)
  }

  class formas_de_pagamento {
    +id: Integer
    +Nome: String(30) not null
  }

  class consulta {
    +id: Integer
    +id_agenda: Integer
    +id_cliente: Integer not null
    +id_medico: Integer not null
    +dataTime: DateTime not null
    +id_convenio: Integer
    +id_forma_de_pagamento: Integer
    +id_status_da_agenda_ou_consulta: Integer not null
    +Observacao: String(255)
  }

  operadores "1" -- "1..n" medicos : id_operadores  
  medicos "1" -- "1..n" convenios : id_medico
  clientes "1" -- "0..n" convenios : id_convenio
  clientes "1" -- "1..n" agenda : id_Cliente
  medicos "1" -- "1..n" expediente_do_medico_data : id_medico
  expediente_do_medico_data "1" -- "1..n" expediente_do_medico_horas : id_expediente_do_medico_data
  agenda "1" -- "0..1" convenios : id_convenio
  agenda "1" -- "0..1" formas_de_pagamento : id_formas_de_pagamento
  agenda "1" -- "1..n" status_da_agenda_ou_consulta : id_status_da_agenda_ou_consulta
  consulta "1" -- "0..1" convenios : id_convenio
  consulta "1" -- "0..1" formas_de_pagamento : id_forma_de_pagamento
  consulta "1" -- "1..n" status_da_agenda_ou_consulta : id_status_da_agenda_ou_consulta
  medicos "1" -- "1..n" agenda : id_Medico
  
</div></code></pre>
<ul>
<li><strong>Explicação do diagrama</strong>
<ul>
<li>
<p>O diagrama de entidade de relacionamento (DER) mostra as relações entre as entidades de um sistema. No caso deste diagrama, as entidades são:</p>
<ul>
<li>Operador</li>
<li>Hospital</li>
<li>Status_da_agenda_ou_consulta</li>
<li>Medico</li>
<li>ServiçoDeAgendas</li>
<li>Convenio</li>
<li>Cliente</li>
<li>Integração</li>
<li>ExpedienteDoMedicoData</li>
<li>ExpedienteDoMedicoHoras</li>
<li>Agenda</li>
<li>FormasDePagamento</li>
<li>Consulta</li>
</ul>
</li>
<li>
<p>A simbologia usada para indicar os relacionamentos são:</p>
<ul>
<li>
<p><em>1</em> : Indica o lado do relacionamento que só pode conter uma ocorrência.</p>
</li>
<li>
<p><em>1..1</em> : Indica que o identificador de ambas a tabelas devem ser iguais;</p>
<ul>
<li>Exemplo:
<ul>
<li>Código da <em>agenda.idCliente</em>  é obrigatório ser igual a <em><a href="http://cliente.id">cliente.id</a></em>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><em>1..n</em> : Indica que pelo menos <em>um</em> (1) identificador de uma das tabelas devem ser igual o identificador da outra;</p>
<ul>
<li>Exemplo:
<ul>
<li>O identificador <em>agenda.idNaturezaDaInteracao</em> é obrigatório ser igual ao identificador <em><a href="http://NaturezaDaInteracao.id">NaturezaDaInteracao.id</a></em> e <em><a href="http://NaturezaDaInteracao.id">NaturezaDaInteracao.id</a></em> pode existir mais de uma ocorrência na agenda.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><em>0..n</em> : Indica que o relacionamento entre as tabelas é opcional e que pode haver mais de referência de uma tabela na outra;</p>
<ul>
<li>Exemplo:
<ul>
<li>O identificador <em>Consulta.idAgenda</em> é opcional ser igual ao identificador <em><a href="http://Agenda.id">Agenda.id</a></em> porque o médico pode atender um paciente sem que o mesmo tenha sido agendado.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="diagrama-do-projeto-que-deu-origem-ao-gráfico-acima">Diagrama do projeto que deu origem ao gráfico acima</h2>
<pre><code class="hljs language-mermaid">
    classDiagram

      class operadores {
        +id: Integer
        +nome: String(50) not null
        +telefone: String(20)
      }

      class hospitais {
        +id: Integer
        +nome: String(50)
        +telefone: String(20)
      }

      class status_da_agenda_ou_consulta {
        +id: Integer
        +nome: String(20)
      }

      class medicos {
        +id: Integer
        +id_operadores: Integer
        +nome: String(50)
        +telefone: String(25)
        +telefone_da_secretaria: String(25)
        +login: String(50)
        +senha: String(20)
      }

      class servico_de_agendas {
        +id: Integer
        +id_operador: Integer
        +nome: String(100)
        +login: String(50)
        +senha: String(50)
      }

      class convenios {
        +id: Integer
        +id_medico: Integer
        +nome: String(50)
        +login: String(50)
        +senha: String(50)
      }

      class clientes {
        +id: Integer
        +nome: String(50) not null
        +telefone_whatsApp: String(25)
        +e_mail: String(50)
        +login: String(50) not null
        +senha: String(20) not null
        +id_convenio: Integer
        +dataTime_disponivel: Date
        +matricula_no_convenio: String(50)
      }

      class integracao {
        +id: Integer
        +endereco_do_site: String(255) not null
        +login: String(50) not null
        +senha: String(20) not null
        +status: Boolean not null
      }

      class expediente_do_medico_data {
        +id_medico: Integer not null
        +dataTime: Date not null
      }

      class expediente_do_medico_horas {
        +id_expediente_do_medico_data: Integer not null
        +dataTime_inicial: DateTime not null
        +dataTime_final: DateTime not null
      }

      class agenda {
        +id: Integer
        +id_Medico: Integer not null
        +id_Cliente: Integer not null
        +dataTime: DateTime not null
        +dataTime_confirmacao: DateTime not null
        +id_convenio: Integer
        +id_status_da_agenda_ou_consulta: Integer not null
        +id_formas_de_pagamento: Integer
        +dataTime_criacao: DateTime not null
        +observacoes: String(255)
      }

      class formas_de_pagamento {
        +id: Integer
        +Nome: String(30) not null
      }

      class consulta {
        +id: Integer
        +id_agenda: Integer
        +id_cliente: Integer not null
        +id_medico: Integer not null
        +dataTime: DateTime not null
        +id_convenio: Integer
        +id_forma_de_pagamento: Integer
        +id_status_da_agenda_ou_consulta: Integer not null
        +Observacao: String(255)
      }

      operadores &quot;1&quot; -- &quot;1..n&quot; medicos : id_operadores  
      medicos &quot;1&quot; -- &quot;1..n&quot; convenios : id_medico
      clientes &quot;1&quot; -- &quot;0..n&quot; convenios : id_convenio
      clientes &quot;1&quot; -- &quot;1..n&quot; agenda : id_Cliente
      medicos &quot;1&quot; -- &quot;1..n&quot; expediente_do_medico_data : id_medico
      expediente_do_medico_data &quot;1&quot; -- &quot;1..n&quot; expediente_do_medico_horas : id_expediente_do_medico_data
      agenda &quot;1&quot; -- &quot;0..1&quot; convenios : id_convenio
      agenda &quot;1&quot; -- &quot;0..1&quot; formas_de_pagamento : id_formas_de_pagamento
      agenda &quot;1&quot; -- &quot;1..n&quot; status_da_agenda_ou_consulta : id_status_da_agenda_ou_consulta
      consulta &quot;1&quot; -- &quot;0..1&quot; convenios : id_convenio
      consulta &quot;1&quot; -- &quot;0..1&quot; formas_de_pagamento : id_forma_de_pagamento
      consulta &quot;1&quot; -- &quot;1..n&quot; status_da_agenda_ou_consulta : id_status_da_agenda_ou_consulta
      medicos &quot;1&quot; -- &quot;1..n&quot; agenda : id_Medico

</code></pre>
<h2 id="script-sql-postgressqlpara-criar-banco-de-dados-e-tabelas">Script SQL PostgresSQLpara criar banco de dados e tabelas</h2>
<pre><code class="hljs language-SQL">
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> assistente_virtual;

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> operadores (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    telefone <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">20</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> hospitais (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    telefone <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">20</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> status_da_agenda_ou_consulta (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">20</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> medicos (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    id_operadores <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> operadores(<span class="hljs-keyword">id</span>),
    nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    telefone <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">25</span>),
    telefone_da_secretaria <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">25</span>),
    login <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    senha <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">20</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> servico_de_agendas (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    id_operador <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> operadores(<span class="hljs-keyword">id</span>),
    nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">100</span>),
    login <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    senha <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> convenios (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    id_medico <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>),
    nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    login <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    senha <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> clientes (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    telefone_whatsApp <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">25</span>),
    e_mail <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>),
    login <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    senha <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    id_convenio <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> convenios(<span class="hljs-keyword">id</span>),
    dataTime_disponivel <span class="hljs-built_in">DATE</span>,
    matricula_no_convenio <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> integracao (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    endereco_do_site <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    login <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    senha <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">status</span> <span class="hljs-built_in">BOOLEAN</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
  );

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> expediente_do_medico_data (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    id_medico <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    dataTime <span class="hljs-built_in">DATE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,    
    <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_medico) <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>)
);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> expediente_do_medico_horas (
    id_expediente_do_medico_data <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    dataTime_inicial <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    dataTime_final <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_expediente_do_medico_data) <span class="hljs-keyword">REFERENCES</span> expediente_do_medico_data(<span class="hljs-keyword">id</span>)
);

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> formas_de_pagamento (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    Nome <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> agenda (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    id_Medico <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>),
    id_Cliente <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">REFERENCES</span> clientes(<span class="hljs-keyword">id</span>),
    dataTime <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    dataTime_confirmacao <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    id_convenio <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> convenios(<span class="hljs-keyword">id</span>),
    id_status_da_agenda_ou_consulta <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">REFERENCES</span> status_da_agenda_ou_consulta(<span class="hljs-keyword">id</span>),
    id_formas_de_pagamento <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> formas_de_pagamento(<span class="hljs-keyword">id</span>),
    dataTime_criacao <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    observacoes <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>)
  );

  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> consulta (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
    id_agenda <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> agenda(<span class="hljs-keyword">id</span>),
    id_cliente <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">REFERENCES</span> clientes(<span class="hljs-keyword">id</span>),
    id_medico <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>),
    dataTime <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    id_convenio <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> convenios(<span class="hljs-keyword">id</span>),
    id_forma_de_pagamento <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">REFERENCES</span> formas_de_pagamento(<span class="hljs-keyword">id</span>),
    id_status_da_agenda_ou_consulta <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">REFERENCES</span> status_da_agenda_ou_consulta(<span class="hljs-keyword">id</span>),
    observacao <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>)
  );

</code></pre>
<h2 id="script-sql-postgressqlpara-criar-os-relacionamentos">Script SQL PostgresSQLpara criar os relacionamentos</h2>
<pre><code class="hljs language-SQL">
  <span class="hljs-comment">-- Adicionando chaves estrangeiras</span>

  <span class="hljs-comment">-- Tabela medicos</span>
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> medicos <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_medicos_operadores <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_operadores) <span class="hljs-keyword">REFERENCES</span> operadores(<span class="hljs-keyword">id</span>);

  <span class="hljs-comment">-- Tabela servico_de_agendas</span>
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> servico_de_agendas <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_servico_de_agendas_operadores <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_operador) <span class="hljs-keyword">REFERENCES</span> operadores(<span class="hljs-keyword">id</span>);

  <span class="hljs-comment">-- Tabela convenios</span>
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> convenios <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_convenios_medicos <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_medico) <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>);

  <span class="hljs-comment">-- Tabela clientes</span>
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> clientes <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_clientes_convenios <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_convenio) <span class="hljs-keyword">REFERENCES</span> convenios(<span class="hljs-keyword">id</span>);

  <span class="hljs-comment">-- Criar a tabela expediente_do_medico_data</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> expediente_do_medico_data (
      <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
      id_medico <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>),
      dataTime <span class="hljs-built_in">DATE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
  );

  <span class="hljs-comment">-- Criar a tabela expediente_do_medico_horas</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> expediente_do_medico_horas (
      id_expediente_do_medico_data <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
      dataTime_inicial <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
      dataTime_final <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
      <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_expediente_do_medico_data) <span class="hljs-keyword">REFERENCES</span> expediente_do_medico_data(<span class="hljs-keyword">id</span>)
  );

  <span class="hljs-comment">-- Tabela agenda</span>
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> agenda <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_agenda_medicos <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_Medico) <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> agenda <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_agenda_clientes <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_Cliente) <span class="hljs-keyword">REFERENCES</span> clientes(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> agenda <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_agenda_convenios <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_convenio) <span class="hljs-keyword">REFERENCES</span> convenios(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> agenda <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_agenda_status_da_agenda_ou_consulta <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_status_da_agenda_ou_consulta) <span class="hljs-keyword">REFERENCES</span> status_da_agenda_ou_consulta(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> agenda <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_agenda_formas_de_pagamento <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_formas_de_pagamento) <span class="hljs-keyword">REFERENCES</span> formas_de_pagamento(<span class="hljs-keyword">id</span>);

  <span class="hljs-comment">-- Tabela consulta</span>
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> consulta <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_consulta_agenda <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_agenda) <span class="hljs-keyword">REFERENCES</span> agenda(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> consulta <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_consulta_clientes <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_cliente) <span class="hljs-keyword">REFERENCES</span> clientes(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> consulta <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_consulta_medicos <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_medico) <span class="hljs-keyword">REFERENCES</span> medicos(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> consulta <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_consulta_convenios <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_convenio) <span class="hljs-keyword">REFERENCES</span> convenios(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> consulta <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_consulta_forma_de_pagamento <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_forma_de_pagamento) <span class="hljs-keyword">REFERENCES</span> formas_de_pagamento(<span class="hljs-keyword">id</span>);
  <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> consulta <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> fk_consulta_status_da_agenda_ou_consulta <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (id_status_da_agenda_ou_consulta) <span class="hljs-keyword">REFERENCES</span> status_da_agenda_ou_consulta(<span class="hljs-keyword">id</span>);

</code></pre>
<ul>
<li><strong>Observações</strong>:
<ul>
<li>Essas chaves estrangeiras garantem a integridade referencial das tabelas, o que significa que os dados nas tabelas relacionadas serão consistentes.</li>
<li>Por exemplo, a chave estrangeira fk_medico_operador na tabela medico garante que o valor da coluna id_operador em uma linha da tabela medico sempre existirá em uma linha da tabela operador.</li>
</ul>
</li>
</ul>
<h2 id="script-sql-postgressqlpara-criar-os-índices-das-tabelas">Script SQL PostgresSQLpara criar os índices das tabelas</h2>
<pre><code class="hljs language-SQL">
  <span class="hljs-comment">-- Índices para a tabela operadores</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_operadores_nome <span class="hljs-keyword">ON</span> operadores (nome);

  <span class="hljs-comment">-- Índices para a tabela medicos</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_medicos_nome <span class="hljs-keyword">ON</span> medicos (nome);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_medicos_id_operadores <span class="hljs-keyword">ON</span> medicos (id_operadores);

  <span class="hljs-comment">-- Índices para a tabela servico_de_agendas</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_servico_de_agendas_nome <span class="hljs-keyword">ON</span> servico_de_agendas (nome);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_servico_de_agendas_id_operador <span class="hljs-keyword">ON</span> servico_de_agendas (id_operador);

  <span class="hljs-comment">-- Índices para a tabela convenios</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_convenios_nome <span class="hljs-keyword">ON</span> convenios (nome);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_convenios_id_medico <span class="hljs-keyword">ON</span> convenios (id_medico);

  <span class="hljs-comment">-- Índices para a tabela clientes</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_clientes_nome <span class="hljs-keyword">ON</span> clientes (nome);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_clientes_login <span class="hljs-keyword">ON</span> clientes (login);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_clientes_id_convenio <span class="hljs-keyword">ON</span> clientes (id_convenio);

  <span class="hljs-comment">-- Índice para a coluna id_medico na tabela expediente_do_medico_data</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_expediente_do_medico_data_id_medico <span class="hljs-keyword">ON</span> expediente_do_medico_data (id_medico);

  <span class="hljs-comment">-- Índice para a coluna dataTime na tabela expediente_do_medico_data</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_expediente_do_medico_data_dataTime <span class="hljs-keyword">ON</span> expediente_do_medico_data (dataTime);

  <span class="hljs-comment">-- Índice para a coluna id_expediente_do_medico_data na tabela expediente_do_medico_horas</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_expediente_do_medico_horas_id_expediente_do_medico_data <span class="hljs-keyword">ON</span> expediente_do_medico_horas (id_expediente_do_medico_data);

  <span class="hljs-comment">-- Índices para a tabela formas_de_pagamento</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_formas_de_pagamento_nome <span class="hljs-keyword">ON</span> formas_de_pagamento (Nome);

  <span class="hljs-comment">-- Índices para a tabela agenda</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_agenda_id_Medico <span class="hljs-keyword">ON</span> agenda (id_Medico);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_agenda_id_Cliente <span class="hljs-keyword">ON</span> agenda (id_Cliente);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_agenda_dataTime <span class="hljs-keyword">ON</span> agenda (dataTime);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_agenda_id_convenio <span class="hljs-keyword">ON</span> agenda (id_convenio);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_agenda_id_status_da_agenda_ou_consulta <span class="hljs-keyword">ON</span> agenda (id_status_da_agenda_ou_consulta);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_agenda_id_formas_de_pagamento <span class="hljs-keyword">ON</span> agenda (id_formas_de_pagamento);

  <span class="hljs-comment">-- Índices para a tabela consulta</span>
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_consulta_id_agenda <span class="hljs-keyword">ON</span> consulta (id_agenda);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_consulta_id_cliente <span class="hljs-keyword">ON</span> consulta (id_cliente);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_consulta_id_medico <span class="hljs-keyword">ON</span> consulta (id_medico);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_consulta_dataTime <span class="hljs-keyword">ON</span> consulta (dataTime);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_consulta_id_convenio <span class="hljs-keyword">ON</span> consulta (id_convenio);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_consulta_id_forma_de_pagamento <span class="hljs-keyword">ON</span> consulta (id_forma_de_pagamento);
  <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> idx_consulta_id_status_da_agenda_ou_consulta <span class="hljs-keyword">ON</span> consulta (id_status_da_agenda_ou_consulta);


</code></pre>
<ul>
<li><strong>Observações</strong>:
<ul>
<li>Após criar as tabelas e as chaves estrangeiras, você poderá inserir dados nas tabelas. Os dados que você insere devem corresponder aos atributos das classes no diagrama de classes.</li>
<li>Por exemplo, para inserir um médico na tabela medico, você precisará fornecer os valores para os seguintes atributos:
<ul>
<li>id (auto-incrementado)</li>
<li>id_operador</li>
<li>nome</li>
<li>telefone</li>
<li>telefone_secretaria</li>
<li>login</li>
<li>senha</li>
</ul>
</li>
<li>Exemplos de consultas que você pode usar para trabalhar com os dados no banco de dados:
<ul>
<li>
<p>Para obter uma lista de todos os médicos:</p>
<pre><code class="hljs language-sql">
  <span class="hljs-keyword">SELECT</span> *
  <span class="hljs-keyword">FROM</span> medico;

</code></pre>
</li>
<li>
<p>Para obter uma lista de todos os médicos de um determinado hospital:</p>
<pre><code class="hljs language-sql">
 <span class="hljs-keyword">SELECT</span> *
 <span class="hljs-keyword">FROM</span> medico
 <span class="hljs-keyword">WHERE</span> id_hospital = <span class="hljs-number">1</span>;

</code></pre>
</li>
<li>
<p>Para obter uma lista de todas as consultas de um determinado paciente:</p>
<pre><code class="hljs language-sql">
 <span class="hljs-keyword">SELECT</span> *
 <span class="hljs-keyword">FROM</span> consulta
 <span class="hljs-keyword">WHERE</span> id_cliente = <span class="hljs-number">1</span>;

</code></pre>
</li>
<li>
<p>Para obter uma lista de todas as consultas de um determinado médico:</p>
<pre><code class="hljs language-sql">
 <span class="hljs-keyword">SELECT</span> *
 <span class="hljs-keyword">FROM</span> consulta
 <span class="hljs-keyword">WHERE</span> id_medico = <span class="hljs-number">1</span>;

</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="compartilhar-o--acesso-ao-banco-de-dados">Compartilhar o  acesso ao banco de dados</h2>
<ul>
<li>
<p>Conceder acesso ao banco de dados:</p>
<pre><code class="hljs language-sql">
  <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DATABASE</span> mydatabase <span class="hljs-keyword">TO</span> mypartner;

</code></pre>
<ul>
<li>Este comando concederá ao seu parceiro todos os privilégios no banco de dados mydatabase.</li>
</ul>
</li>
</ul>
<h2 id="ferramenta-que-pode-ser-usada-para-executar-os-scripts-acima">Ferramenta que pode ser usada para executar os scripts acima?</h2>
<ul>
<li>
<p><em>psql</em></p>
<ul>
<li>
<p>Para executar os scripts acima usando o <em>psql</em>, você precisará conectar-se ao banco de dados PostgreSQL. Você pode fazer isso usando o comando psql:</p>
<pre><code class="hljs language-bash">
  psql -h &lt;host&gt; -p &lt;port&gt; -d &lt;database&gt; -U &lt;username&gt;

</code></pre>
</li>
<li>
<p>Por exemplo, para conectar-se ao banco de dados PostgreSQL chamado <em>mydatabase</em> no host <em>localhost</em> na porta <em>5432</em>, você usaria o seguinte comando:</p>
<pre><code class="hljs language-bash">
  psql -h localhost -p 5432 -d mydatabase -U myuser

</code></pre>
</li>
<li>
<p>Uma vez conectado ao banco de dados, você pode executar os scripts acima usando o comando \i:</p>
<pre><code class="hljs language-bash">
  \i create_tables.sql

</code></pre>
<ul>
<li>Nota:
<ul>
<li>Este comando irá executar o script <em>create_tables</em>.sql, que criará as tabelas necessárias para o diagrama de classes.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><em>dbeaver-ce</em></p>
<ul>
<li>
<p>O <em>DBeaver Community Edition</em> (DBeaver CE) é uma ferramenta de gerenciamento de banco de dados relacional de código aberto. Ele oferece suporte a vários bancos de dados, como MySQL, PostgreSQL, SQLite, Oracle, Microsoft SQL Server, e muitos outros. O DBeaver CE é uma versão gratuita e de código aberto da ferramenta, projetada para ser usada por desenvolvedores, administradores de banco de dados e qualquer pessoa envolvida no gerenciamento e manipulação de bancos de dados.</p>
</li>
<li>
<p>Principais características do DBeaver CE:</p>
<ul>
<li>
<p>Conectividade com Múltiplos Bancos de Dados: Oferece suporte a uma ampla variedade de sistemas de gerenciamento de banco de dados, permitindo que os usuários se conectem a diferentes bancos de dados a partir de uma única interface.</p>
</li>
<li>
<p>Interface Gráfica Intuitiva: Possui uma interface de usuário gráfica intuitiva que facilita o desenvolvimento, gerenciamento e consulta de bancos de dados.</p>
</li>
<li>
<p>Editor SQL: Inclui um editor SQL poderoso com realce de sintaxe, conclusão automática e outras funcionalidades que facilitam a escrita e execução de consultas SQL.</p>
</li>
<li>
<p>Gerenciamento de Metadados: Permite a visualização e edição de metadados do banco de dados, como tabelas, índices, procedimentos armazenados, entre outros.</p>
</li>
<li>
<p>Exportação e Importação de Dados: Facilita a transferência de dados entre diferentes fontes, com suporte a várias opções de exportação e importação.</p>
</li>
<li>
<p>Visualização de Dados: Oferece recursos visuais para a visualização de dados, incluindo gráficos e ferramentas de exploração de dados.</p>
</li>
<li>
<p>Suporte a Plugins: Permite a extensão de funcionalidades por meio de plugins, proporcionando flexibilidade para atender a diferentes necessidades.</p>
</li>
</ul>
</li>
<li>
<p>O DBeaver CE é uma escolha popular devido à sua versatilidade e ao fato de ser gratuito e de código aberto. No entanto, é importante observar que existem versões comerciais do DBeaver (DBeaver EE) que oferecem recursos adicionais e suporte aprimorado, mas a versão Community Edition é uma opção robusta para muitos desenvolvedores e administradores de banco de dados.</p>
</li>
</ul>
</li>
</ul>
<h2 id="referências">Referências</h2>
<ol>
<li><a href="https://mermaid.js.org/syntax/flowchart.html">Gráfico criado com projeto mermaid</a></li>
<li><a href="https://www.postgresql.org/">PostgreSQL: The World's Most Advanced Open Source</a></li>
</ol>
<!-- markdownlint-disable-next-line -->
</main>
[🔝🔝](#topo "Retorna ao topo")

        
        
    </body>
    </html>