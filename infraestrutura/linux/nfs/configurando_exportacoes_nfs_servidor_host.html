<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Configurando as exporta&ccedil;&otilde;es NFS no servidor host&lt;a href&equals;&quot;configurando&lowbar;exportacoes&lowbar;nfs&lowbar;servidor&lowbar;host&period;html&quot; target&equals;&quot;&lowbar;blank&quot; title&equals;&quot;Pressione aqui para expandir este documento em nova aba&period;&quot; &gt; &#x279a; &lt;&sol;a&gt;</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="" />
  <meta name="keywords" content="" />

  <link type="text/css" href="/css/topnav.css" rel="stylesheet" />
  <link type="text/css" href="/css/defaultthemeMarkdown.css" rel="stylesheet" />

  <script type="application/x-javascript" src="/js/generic.js"></script>
  <script type="application/x-javascript" src="/js/tgeneric.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      toggleTree();
    });
  </script>

</head>

<body class="vscode-body vscode-dark">
  <div class="header" id="myHeader">
    <div class="navbar" w3-include-html="/menu.inc"> </div>
  </div>
  <div class="title">
    <script>
      document.write(document.title);
    </script>
  </div>
  <main>
    <!-- markdownlint-disable-next-line -->
    <span id="topo"><span>
        <!-- <h1 id="configurando-as-exporta√ß√µes-nfs-no-servidor-host---">Configurando as exporta√ß√µes NFS no servidor host<a href="configurando_exportacoes_nfs_servidor_host.html" target="_blank" title="Pressione aqui para expandir este documento em nova aba." >  ‚ûö </a></h1> -->
        <ol>
          <li>
            <p>Com editor de sua prefer√™ncia, edite o arquivo <em>/etc/exports</em> para adicionar um novo compartilhamento para a pasta <em>/var/nfs/share</em>:</p>
            <pre><code class="hljs language-sh">   
   <span class="hljs-comment"># Usando o editor xed </span>
   sudo xed /etc/exports
   

</code></pre>
          </li>
          <li>
            <p>Adicione no fim do arquivo <em>/etc/exports</em> as seguintes linhas:</p>
            <pre><code class="hljs language-sh">    
  <span class="hljs-comment"># Sintaxe das linhas no arquivo /etc/exports: </span>
  <span class="hljs-comment"># patas_a_ser_compartilhada ip_cliente(share_option1,...,share_optionN)     </span>

  /var/nfs/share 192.168.15.0(rw,sync,no_subtree_check)
  /home          192.168.15.0(rw,sync,no_root_squash,no_subtree_check)
    

</code></pre>
          </li>
          <li>
            <p>Observe que nas linhas acimas adicionadas ao arquivo <em>/etc/exports</em> est√° usando as mesmas op√ß√µes de configura√ß√£o para ambos os diret√≥rios (<em>/home</em> e <em>/var/nfs/share</em>), exceto a o par√¢metro <em>no_root_squash</em>.</p>
            <ol>
              <li>Significados dos par√¢metros ap√≥s os IPs:
                <ol>
                  <li><em>rw</em>: essa op√ß√£o fornece ao computador do cliente tanto o acesso √† leitura quanto grava√ß√£o no volume.</li>
                  <li><em>sync</em>: essa op√ß√£o obriga o NFS a gravar altera√ß√µes no disco antes de responder. Isso resulta em um ambiente mais est√°vel e consistente, uma vez que a resposta reflete o estado real do volume remoto. No entanto, isso tamb√©m reduz a velocidade das opera√ß√µes de arquivos.</li>
                  <li><em>no_subtree_check</em>: essa op√ß√£o impede a verifica√ß√£o de sub√°rvore, que √© um processo onde o host deve verificar se o arquivo est√° de fato dispon√≠vel na √°rvore exportada para cada pedido. Isso pode causar muitos problemas quando um arquivo √© renomeado enquanto o cliente tem ele aberto. Em quase todos os casos, √© melhor desativar a verifica√ß√£o de sub√°rvore.</li>
                  <li><em>no_root_squash</em>: por padr√£o, o NFS traduz as solicita√ß√µes de um usu√°rio root remotamente como um usu√°rio sem privil√©gios no servidor. Isso foi usado como medida de seguran√ßa para evitar que uma conta root no cliente utilize o sistema de arquivos do host como root. A op√ß√£o <em>no_root_squash</em> desativa esse comportamento para certos compartilhamentos.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>
            <p>Ap√≥s salvar as altera√ß√µes do arquivo <em>/etc/exports</em> reinicie o servidor nfs para que os compartilhamentos fiquem dispon√≠veis para os clientes:</p>
            <pre><code class="hljs language-sh">    
   sudo systemctl restart nfs-kernel-server       

</code></pre>
          </li>
          <li>
            <p>Pr√≥ximo passo:</p>
            <ol>
              <li><a href="./montando_pasta_compartilhada_do_servidor_no_cliente.html">Montando pasta compartilhada no servidor na m√°quina cliente</a>;</li>
            </ol>
          </li>
        </ol>
        <h5 id="refer√™ncias">REFER√äNCIAS</h5>
        <ol>
          <li><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-20-04-pt">Como configurar uma montagem NFS no Ubuntu 20.04</a></li>
        </ol>
  </main>
  <!-- markdownlint-disable-next-line -->
  <script>
    includeHTML();
    FixHeader(window, "myHeader");
  </script>
  <p><a href="#topo" title="Retorna ao topo">üîùüîù</a></p>



</body>

</html>